---
title: Code Block Command
description: A code block command component for displaying installation commands with copy functionality.
image: https://assets.chanhdai.com/images/blog/code-block-command.webp
category: components
icon: code-block-command
new: true
createdAt: 2026-02-08
updatedAt: 2026-02-08
---

<ComponentPreview
  name="code-block-command-demo"
  openInV0Url="https://chanhdai.com/r/code-block-command.json"
  codeCollapsible
/>

## Features

- Switch between pnpm, yarn, npm, and bun with a single click.
- Automatically saves the user's preferred package manager for future visits.
- Copy commands instantly with smooth animations showing success or failure states.

## Installation

<CodeTabs>

<TabsListInstallType />

<TabsContent value="cli">

```bash
npx shadcn add @ncdai/code-block-command
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the following dependencies</Step>

```bash
npm install clsx tailwind-merge class-variance-authority lucide-react motion jotai radix-ui @base-ui/react
```

<Step>Add a cn helper</Step>

<ComponentSource
  src="src/lib/utils.ts"
  title="lib/utils.ts"
  showLineNumbers
  collapsible={false}
/>

<Step>Copy and paste the following code into your project</Step>

<ComponentSource
  src="src/components/base/ui/tabs.tsx"
  title="components/ncdai/base/tabs.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/components/ui/button.tsx"
  title="components/ui/button.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/hooks/use-copy-to-clipboard.ts"
  title="hooks/use-copy-to-clipboard.ts"
  showLineNumbers
/>

<ComponentSource
  name="copy-button"
  title="components/ncdai/copy-button.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/hooks/use-package-manager.ts"
  title="hooks/use-package-manager.ts"
  showLineNumbers
/>

<ComponentSource
  name="code-block-command"
  title="components/ncdai/code-block-command.tsx"
  showLineNumbers
/>

<Step>Update the import paths to match your project setup</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import { CodeBlockCommand } from "@/components/ncdai/code-block-command"
```

```tsx
<CodeBlockCommand
  pnpm="pnpm dlx shadcn add @ncdai/code-block-command"
  yarn="yarn shadcn add @ncdai/code-block-command"
  npm="npx shadcn add @ncdai/code-block-command"
  bun="bunx --bun shadcn add @ncdai/code-block-command"
/>
```

## API Reference

### Props

| Prop            | Type                                                                  | Description                                               |
| --------------- | --------------------------------------------------------------------- | --------------------------------------------------------- |
| `pnpm`          | `string`                                                              | Command for pnpm package manager                          |
| `yarn`          | `string`                                                              | Command for yarn package manager                          |
| `npm`           | `string`                                                              | Command for npm package manager                           |
| `bun`           | `string`                                                              | Command for bun package manager                           |
| `onCopySuccess` | `(data: { packageManager: PackageManager; command: string }) => void` | Callback when command is successfully copied to clipboard |
| `onCopyError`   | `(error: Error) => void`                                              | Callback when copy operation fails                        |

### Types

```ts
type PackageManager = "pnpm" | "yarn" | "npm" | "bun"
```

## Examples

### Analytics Tracking

Track user interactions with analytics services like [PostHog](https://posthog.com), [OpenPanel](https://openpanel.dev), or [Google Analytics](https://analytics.google.com).

```tsx showLineNumbers
"use client"

import { CodeBlockCommand } from "@/components/ncdai/code-block-command"
import { trackEvent } from "@/lib/events"

export function InstallCommand() {
  return (
    <CodeBlockCommand
      pnpm="pnpm dlx shadcn add @ncdai/code-block-command"
      yarn="yarn shadcn add @ncdai/code-block-command"
      npm="npx shadcn add @ncdai/code-block-command"
      bun="bunx --bun shadcn add @ncdai/code-block-command"
      onCopySuccess={({ packageManager, command }) => {
        trackEvent({
          name: "command_copied",
          properties: {
            packageManager,
            command,
          },
        })
      }}
      onCopyError={(error) => {
        trackEvent({
          name: "command_copy_failed",
          properties: { error: error.message },
        })
      }}
    />
  )
}
```
