---
title: Code Block Command
description: Display install commands with package manager switcher and copy button.
image: https://assets.chanhdai.com/images/blog/code-block-command.webp
category: components
new: true
createdAt: 2026-02-08
updatedAt: 2026-02-21
---

<ComponentPreview
  name="code-block-command-demo"
  openInV0Url="https://chanhdai.com/r/code-block-command.json"
  codeCollapsible
/>

## Features

- Switch between pnpm, yarn, npm, and bun with a single click.
- Automatically saves the user's preferred package manager for future visits.
- Copy commands instantly with smooth animations showing success or failure states.
- `convertNpmCommand` utility to auto-convert a standard npm command to all package managers.

## Installation

<CodeTabs>

<TabsListInstallType />

<TabsContent value="cli">

```bash
npx shadcn add @ncdai/code-block-command
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the following dependencies</Step>

```bash
npm install clsx tailwind-merge class-variance-authority lucide-react motion jotai radix-ui @base-ui/react
```

<Step>Add a cn helper</Step>

<ComponentSource
  src="src/lib/utils.ts"
  title="lib/utils.ts"
  showLineNumbers
  collapsible={false}
/>

<Step>Copy and paste the following code into your project</Step>

<ComponentSource
  src="src/components/base/ui/tabs.tsx"
  title="components/ncdai/base/tabs.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/components/ui/button.tsx"
  title="components/ui/button.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/hooks/use-copy-to-clipboard.ts"
  title="hooks/use-copy-to-clipboard.ts"
  showLineNumbers
/>

<ComponentSource
  name="copy-button"
  title="components/ncdai/copy-button.tsx"
  showLineNumbers
/>

<ComponentSource
  src="src/hooks/use-package-manager.ts"
  title="hooks/use-package-manager.ts"
  showLineNumbers
/>

<ComponentSource
  name="code-block-command"
  title="components/ncdai/code-block-command.tsx"
  showLineNumbers
/>

<Step>Update the import paths to match your project setup</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import {
  CodeBlockCommand,
  convertNpmCommand,
} from "@/components/ncdai/code-block-command"
```

```tsx
<CodeBlockCommand
  pnpm="pnpm dlx shadcn add @ncdai/code-block-command"
  yarn="yarn shadcn add @ncdai/code-block-command"
  npm="npx shadcn add @ncdai/code-block-command"
  bun="bunx --bun shadcn add @ncdai/code-block-command"
/>
```

Or use `convertNpmCommand` to auto-convert from a standard npm command:

```tsx
<CodeBlockCommand
  {...convertNpmCommand("npx shadcn add @ncdai/code-block-command")}
/>
```

## API Reference

### CodeBlockCommand

<AutoTypeTable
  path="src/registry/components/code-block-command/code-block-command.tsx"
  name="CodeBlockCommandProps"
/>

### convertNpmCommand

Converts a standard npm/npx command into equivalent commands for all package managers. The result can be spread directly into `CodeBlockCommand` props.

<AutoTypeTable
  path="src/registry/components/code-block-command/code-block-command.tsx"
  name="ConvertNpmCommandResult"
/>

Supported command patterns:

<div data-table-nowrap="">

| npm command         | pnpm                 | yarn                 | bun                        |
| ------------------- | -------------------- | -------------------- | -------------------------- |
| `npm install`       | `pnpm add`           | `yarn add`           | `bun add`                  |
| `npx create-<name>` | `pnpm create <name>` | `yarn create <name>` | `bunx --bun create-<name>` |
| `npm create`        | `pnpm create`        | `yarn create`        | `bun create`               |
| `npx`               | `pnpm dlx`           | `yarn`               | `bunx --bun`               |
| `npm run`           | `pnpm`               | `yarn`               | `bun`                      |

</div>

## Examples

### Convert from npm

Use `convertNpmCommand` to avoid manually writing commands for each package manager.

<ComponentPreview name="code-block-command-convert-demo" />

### Analytics Tracking

Track user interactions with analytics services like [PostHog](https://posthog.com), [OpenPanel](https://openpanel.dev), or [Google Analytics](https://analytics.google.com).

```tsx showLineNumbers
"use client"

import {
  CodeBlockCommand,
  convertNpmCommand,
} from "@/components/ncdai/code-block-command"
import { trackEvent } from "@/lib/events"

export function InstallCommand() {
  return (
    <CodeBlockCommand
      {...convertNpmCommand("npx shadcn add @ncdai/code-block-command")}
      onCopySuccess={({ packageManager, command }) => {
        trackEvent({
          name: "command_copied",
          properties: {
            packageManager,
            command,
          },
        })
      }}
      onCopyError={(error) => {
        trackEvent({
          name: "command_copy_failed",
          properties: { error: error.message },
        })
      }}
    />
  )
}
```
